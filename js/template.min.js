let TPL=function(params){this.create=function(){this.el=params.el;for(let t in params.data){this[t]=params.data[t]}for(let t in params.methods){this[t]=params.methods[t]}};this.render=function(t,e){const i=3;t=t?t:document.querySelector(this.el);e=e?e:this;if(t.nodeType===i&&this.hasEl(t.data)){let i=t.data;const[s,a,n]=this.getEl(i);t.data=s+this.calculate(n.trim(),e)+a}if(t.getAttributeNames){t.getAttributeNames().forEach(i=>{let s=t.getAttribute(i);if(this.hasEl(s)){const[a,n,r]=this.getEl(s);t.setAttribute(i,a+this.calculate(r.trim(),e)+n)}})}if(t.hasAttribute){if(t.hasAttribute("for")){let i=t.getAttribute("for");let s=i.split(/ in | of /i);let a=[];for(let e=0;e<t.childNodes.length;e++){a.push(t.childNodes[e].cloneNode(true))}t.innerHTML="";this.calculate(s[1],e).forEach(i=>{a.forEach(a=>{e[s[0]]=i;let n=a.cloneNode(true);this.render(n,e);t.append(n)})});return}}[].slice.call(t.childNodes).forEach(t=>{this.render(t,e)})};this.hasEl=function(t){return/{{.*}}/.test(t)};this.getEl=function(t){return[t.substring(0,t.indexOf("{{")),t.substring(t.indexOf("}}")+2),t.substring(t.indexOf("{{")+2,t.indexOf("}}"))]};this.calculate=function(express,data){let func="";if(express.indexOf("(")>0){let t=express.split("(");express=t[1].substring(0,t[1].indexOf(")"));func=t[0];func=func.trim()}express=express.trim();let split=express.split(/\./i);for(let t=0;t<split.length;t++){if(data){data=data[split[t]]}}if(split.length===1&&data===undefined){data=eval(express)}if(data){if(func&&func!==""){if(this[func]&&typeof this[func]==="function"){data=this[func](data)}else{data=window[func](data)}}}else{if(func&&func!==""){if(this[func]&&typeof this[func]==="function"){data=this[func]()}else{data=window[func]()}}}return data};this.create()};