let TPL=function(params){this.create=function(){this.el=params.el;for(let t in params.data){this[t]=params.data[t]}for(let t in params.methods){this[t]=params.methods[t]}};this.render=function(t,e){const s=3;t=t?t:document.querySelector(this.el);e=e?e:this;if(t.nodeType===s&&this.hasEl(t.data)){let s=t.data;const[i,r,a]=this.getEl(s);t.data=i+this.calculate(a,e)+r}if(t.getAttributeNames){t.getAttributeNames().forEach(s=>{let i=t.getAttribute(s);if(this.hasEl(i)){const[r,a,n]=this.getEl(i);t.setAttribute(s,r+this.calculate(n,e)+a)}})}if(t.hasAttribute){if(t.hasAttribute("for")){let s=t.getAttribute("for");let i=s.split(/ in | of /i);let r=[];for(let e=0;e<t.childNodes.length;e++){r.push(t.childNodes[e].cloneNode(true))}t.innerHTML="";this.calculate(i[1],e).forEach(s=>{r.forEach(r=>{e[i[0]]=s;let a=r.cloneNode(true);this.render(a,e);t.append(a)})});return}}[].slice.call(t.childNodes).forEach(t=>{this.render(t,e)})};this.hasEl=function(t){return/{{.*}}/.test(t)};this.hasFunc=function(t){return/\(.*\)/.test(t)};this.getEl=function(t){return[t.substring(0,t.indexOf("{{")),t.substring(t.indexOf("}}")+2),t.substring(t.indexOf("{{")+2,t.indexOf("}}")).trim()]};this.getFunc=function(t){return[t.substring(0,t.indexOf("(")).trim(),t.substring(t.indexOf("(")+1,t.indexOf(")")).trim()]};this.calculate=function(express,data){if(this.hasFunc(express)){let[t,e]=this.getFunc(express);let s=this.calculate(e,data);return this[t]?this[t](s):window[t](s)}try{return eval("data."+express)}catch(e){return eval(express)}};this.create()};