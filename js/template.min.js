let TPL=function(params){this.create=function(){this.el=params.el;for(let t in params.data){this[t]=params.data[t]}for(let t in params.methods){this[t]=params.methods[t]}};this.render=function(t,e){const s=3;t=t?t:document.querySelector(this.el);e=e?e:this;if(t.nodeType===s&&this.hasEl(t.data)){let s=t.data;const[i,r,n]=this.getEl(s);t.data=i+this.calculate(n,e)+r}if(t.getAttributeNames){t.getAttributeNames().forEach(s=>{let i=t.getAttribute(s);if(this.hasEl(i)){const[r,n,a]=this.getEl(i);t.setAttribute(s,r+this.calculate(a,e)+n)}})}if(t.hasAttribute){if(t.hasAttribute("for")){let s=t.getAttribute("for");let i=s.split(/ in | of /i);let r=[];for(let e=0;e<t.childNodes.length;e++){r.push(t.childNodes[e].cloneNode(true))}t.innerHTML="";this.calculate(i[1],e).forEach(s=>{r.forEach(r=>{e[i[0]]=s;let n=r.cloneNode(true);this.render(n,e);t.append(n)})});return}}[].slice.call(t.childNodes).forEach(t=>{this.render(t,e)})};this.hasEl=function(t){return/{{.*}}/.test(t)};this.hasFunc=function(t){return/\(.*\)/.test(t)};this.getEl=function(t){return[t.substring(0,t.indexOf("{{")),t.substring(t.indexOf("}}")+2),t.substring(t.indexOf("{{")+2,t.indexOf("}}")).trim()]};this.getFunc=function(t){return[t.substring(0,t.indexOf("(")).trim(),t.substring(t.indexOf("(")+1,t.indexOf(")")).trim()]};this.calculate=function(express,data){let func,result;if(this.hasFunc(express)){[func,express]=this.getFunc(express)}try{result=eval("data."+express)}catch(e){result=eval(express)}if(func){result=this[func]&&typeof this[func]==="function"?this[func](result):window[func](result)}return result};this.create()};